<%- include('header'); -%> 

<section class="hero is-link">
	<div class="hero-body">
			<div>
				<a href="/" class="button is-link"><i class='bx bx-arrow-back bx-sm'></i></a>
				<p class="title is-2 ml-4">
					All Books
				</p>
			</div>
	</div>


  </section>

<section class="section px-8">
	<% if(bookList.length === 0){ %>
		<div class="has-text-centered">
				<h2 class="is-size-5"> <em>No books to show!</em> </h2>
		</div>
	<% } %>
	<% for(var j=bookList.length-1;j>=0;j-=4){ %>
		<div class="columns is-desktop">
	
			<% for(var i=j;i>j-4;i--){ %>
				<% if(i==-1){ %>
					<% break;%>
				<% } %> 
				<div class="column is-one-quarter-desktop">
					<div class="card">	
						<div class="card-content">
							<div>
								<h2 class="book-name"> <%= bookList[i].name %>  </h2>
								<h2 class="book-author"><em> <%= bookList[i].author %>  </em></h2>
								<h2 class="book-year"> <%= bookList[i].year %> </h2>
								
							</div>
	
							<div class="mt-2">
								<button class="button is-primary is-light is-small mr-1 modify-btns" id="modifyBtn<%= i %>"><i class='bx bxs-pencil bx-xs'></i></button>
								<button class="button is-danger is-light is-small delete-btns" type="submit" id="deleteBtn<%= i %>"><i class='bx bxs-trash-alt bx-xs' ></i> </button>
							</div>
							
						</div>
					</div>
				</div>
			<%  } %>
		</div>
		<%  } %>


	<!-- modify modal -->

	<div class="modal" id="modifyDiv">
			
		<div class="modal-background"></div>
		<div class="modal-card">
			<div class="modal-card-head">
				<p class="modal-card-title"></p>
				<button class="delete" id="modify-div-cross" aria-label="close"></button>
			</div>
		
			
			<form id="modifyForm" action="/" method="post">
			
				<div class="modal-card-body">
					<div class="field">
					<label class="label">New Name</label>
					<div class="control">
						<input class="input" name="name" type="text" value="" placeholder="e.g. Harry Potter">
					</div>
					</div>
			
					<div class="field">
						<label class="label">New Author</label>
						<div class="control">
						<input class="input" name="author" type="text"  value="" placeholder="e.g. JK Rowling">
						</div>
					</div>
			
					<div class="field">
						<label class="label">New Year</label>
						<div class="control">
						<input class="input" name="year" type="text"  value="" placeholder="e.g. 1998">
						</div>
					</div>
				</div>
			
				<div class="modal-card-foot">
					<button type="submit" class="button is-link">Update</button>
				</div>
				
			</form>

		</div>

	</div>

</section>

<script src="scripts/client_allBooks.js"></script>
<%- include('footer'); -%> 